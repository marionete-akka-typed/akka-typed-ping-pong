language: scala
scala:
- 2.12.6
script:
- sbt compile coverage test coverageReport codacyCoverage assembly
services:
- docker
env:
  global:
  - secure: BIXurpR+KTooYWs8Nkc90r5LIlhYnv3D0qIXItkB60DfYi+GavOdsAfywUIMh+hDAzTZCDahqlZCDPxPThY7Fvlgflf47jKUr6sC4fBMmvDdQVNLj+rzMjoPrSlDwaXipwAiK8sk4yyMmIVQlXn4gF7VoengjPP7Z9jRiQ87mH9Nwbnb/mXi7Ccn37AuNUu9phRJ29+RduC+ScXNt/bV2jZD13dRIEXs5RCK0JUmE/+nrV0tZ+RI7SUL3tD1jORKxkm49u+1FzD0pFyjMEAo5zAYynyLdGxt50nTDw2UYWSVCyDJ5bVXOe9yYk9Ub8+M3FEwYxJOhbjkhVLZ6mwzOdilZeGrA6OWQGGZ3qRScD/kNr53OIb4NlE26kEGOV0eWTLukmNWtKfCVrpd5xdFawZ3LrRkP5chMVUXX+RpaRB6n1A98u6I62HJGrBqDsSk0PkBSQW4tdaqU9UTOicaMpum2Y++pzfk/eaW4MORdhovSTYtMfkRZ8laL6HylfzP+3/HVJqAYrMxggkLmgC1Xha1JBXkGVmHBFtyKR2Szwx5PJ6g76osqQc4gwoIB5fJ39bILrNIx8gWTp/Of+sRYzb1zpGRDeMiZTnYPUQie4J/y8pcCvK8+rB85oHixjLDXxxScoWLWnEpXQCwxMeO29h4da0GKfciJAvbxKbrhGY=
  - secure: QLzclJfUPgcZUWucBtgT4YsQi0/BlcZNGtJZj1JWLY5u0C41dY7HdUDskuCumu0imfVLtX/Db80E5ua83XsXp3D6qJi11qHXSsp9y0ufwna/MqzZUFpy9e3MVtIdOKK4fOnyRo+1DO8O1ZGPavF9XV0XBoWhQURP2qMMjyArlNdNmjFAfNi+x+XoNWIC6TkwSGsHRVSwkfxENCRZ4O3LRzsUY+XwA6k3RY1tUCgwSc+FWhmMIkKrlC+bp9eHlVhM4lkeR5tu8tHEixkhhxEQCVdHy/9fq7XoSMVPvZSSNPfGgnTNg9YgsHv0UowRHM/WzFOfOMW55Hohk/NLkxhP/qT/JJPNZz9Vo7LZxkm6bZ5ZdunC2j8ttTMkh/TdAMPBNaIOtAcHiBdaqFaxzhlPK8TlPfTTcPN7JDDbrpa6FLhwU3kjzSCvIuTyOu227IRaZDv4kpXEbjFKF4ZxvTBWkUGU4uMU4P2wZtJCwMdnIV6VCvjFiijS2uAbBvs7bKgMgyef6xhZ2n+u4tdukXLP8sBAhAICGkZGB4P2j8vjDSq9B5G5kmpHEjw6Xw9DZDwtbfvM+LTrSqQbCLI249aHeSror0Lbau48EIlEuBWgRfYk4BrMRFuApSX73HzQdPPAXVQ1gQMYya2OjUcj7F+yDabohVhRrTs7ZHNMohp71ds=
  - secure: c2I0q1sqnyKuOKjZRY2Q/k+zFB9GBySoEdUyFxmStpsUh16UwzVpm5N0GNppqYwkA0XgvDR/Ez9RkiYQzzT+7ZFLyz5oqdc4pA39mJUthoVdOj2Lh2juHH2tE1ZNDYFHau/PBRrV1q7peRIqMlSp5nI9qelriUrDc5sMD+cW5SsAJYseTKd3hj4hMSlFn4pcfusfTXkwrd8ArGdiZbUpZBXTEmK4eyTXUGNW2xKh1DehiSG3z5MEjKFuutPdcbHOLNlnrsz51kV0Z05jdq8XtdAlhKBuVbuu8PJlQiUzx8mVECbyLffCE2EWFPwt3azKB6uWnghXcuwmgvMPwFqNGmGUDdv1HxV1eMqxz57G712Q3GlUDESCFH9j54bCm2YCYHHxJ24uLt7uuQ/laakHfR38oUDDD+kGWR0jNgYNEswQCWYlUOJVDrgm1p8nnP6UGqohM5pLaMcPOQNL21p//hrZ0775PZneVlbcYQeqIyyP0m2RIvhDm07fTmfSoKpV6oBWm+r7qsqKyAuUMATm44WukaJeJaxHlQvJipyUJvtu+zJj1TzGw8jyljVK+AnV2CX1vuHgbk6BZmpQ4nocHYuyOjLxje6EPxvDD0i0bpwT1yoZdV3Lxdr5EUnicTU1XB6nCvbOMAzdrQwUPxB5nKNvaA4VAxIXTzmClb4tGJ8=
  - secure: DOzpmpfpJ4bIi+lLThkmlwPOkVe+X/MpnZjDtoUmskrsjOBICSmq2smEOvBUIWC8V8m3/TIu39IlOA/DuTSzElyrjWYYILKDCMj3CoRVsg9nqKLEsgJ7OJyTH68DGResqno3Tq1mkEW4TJ8cyjFUxd716lIXk4ke22k2JnwOJ3gyKnP2ohPx+Xq9C0snWyvLuRitDRMUiNHXHTUAZA1k3DAJI645z8kgnTQI/tO0Gj7ZmNGApINCftXDkWbH6cgA2FY0WkRglmtmEesi44PHg6K/HLyKgcBZhne1tQeoC9FmPSu+fLDM7zl5JZmojlNx7ftYQrEt/zrguiOsigZnQhrVh9onkqTCPUxs9IzRGxiXKh4W/g24qbXTYO+bHV1rsu8ZZ/bMPhk3ekrxAq9FuCeqd4f8lj83diH1FfLjzYP5evVHBjJwX0byZjDXUFzSqW1ax6LRMvo83trrQkNw4TV0DAFMUwjTtMlfqPMKHJTtYvHi9we2Te7jG86ugU1EMcaCBj8TPIEGiX9ubL7fkuycZL3qO3NnQFonWoBCEw1DPggvP5sIk0PbSuKqlxtJBLd5v5QgXCbNrl4/0UPICwCQOO942uUE14Swczh3P5nswD8RU9qFYMlpu3QyrbufF8A4YZaI3Uml6drFw4UMZjwX6Vo/Vof/njBkuolNbrs=
after_success:
- docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
- if [[ $TRAVIS_BRANCH == "master" ]]; then export REPO=ricardomiranda/akka_typed_ping_pong
  export TAG=latest docker build -f Dockerfile -t $REPO:$COMMIT . docker tag $REPO:$COMMIT
  $REPO:$TAG docker tag $REPO:$COMMIT $REPO:travis-$TRAVIS_BUILD_NUMBER docker push
  $REPO fi
