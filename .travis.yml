language: scala
scala:
- 2.12.6
script:
- sbt compile coverage test coverageReport codacyCoverage assembly
services:
- docker
env:
  global:
  - secure: BIXurpR+KTooYWs8Nkc90r5LIlhYnv3D0qIXItkB60DfYi+GavOdsAfywUIMh+hDAzTZCDahqlZCDPxPThY7Fvlgflf47jKUr6sC4fBMmvDdQVNLj+rzMjoPrSlDwaXipwAiK8sk4yyMmIVQlXn4gF7VoengjPP7Z9jRiQ87mH9Nwbnb/mXi7Ccn37AuNUu9phRJ29+RduC+ScXNt/bV2jZD13dRIEXs5RCK0JUmE/+nrV0tZ+RI7SUL3tD1jORKxkm49u+1FzD0pFyjMEAo5zAYynyLdGxt50nTDw2UYWSVCyDJ5bVXOe9yYk9Ub8+M3FEwYxJOhbjkhVLZ6mwzOdilZeGrA6OWQGGZ3qRScD/kNr53OIb4NlE26kEGOV0eWTLukmNWtKfCVrpd5xdFawZ3LrRkP5chMVUXX+RpaRB6n1A98u6I62HJGrBqDsSk0PkBSQW4tdaqU9UTOicaMpum2Y++pzfk/eaW4MORdhovSTYtMfkRZ8laL6HylfzP+3/HVJqAYrMxggkLmgC1Xha1JBXkGVmHBFtyKR2Szwx5PJ6g76osqQc4gwoIB5fJ39bILrNIx8gWTp/Of+sRYzb1zpGRDeMiZTnYPUQie4J/y8pcCvK8+rB85oHixjLDXxxScoWLWnEpXQCwxMeO29h4da0GKfciJAvbxKbrhGY=
  - secure: nr95GMVIXZwEnoXKakPeyxJAV1Z/sNOVTvmUPgQIANsQuRLclWnqN31J2kBgBzxDtonJi9fhwflBc/9TASoMoRgSoinWG4fM4o9HsU7ORe5DdvUitXtu9ZHBHJpcy4T5OVdfgHKF7aZ+0PaE8lvNAQame9M2GbMSJISGt21tPwLpYwNVuEBAcP3e1YpqJTTIqeEzVfKM9Wj7VzUpfyY8tZNwmuc0vgY7ltXoZH2FGGnGfCpx523jYrBeWVD94VuHJfW6gt/6rb/93K0d6hsQEgBlUJ3QT4LZ4C/tQHyOJ/6k7XHVltdFx9sOg4REB2mfp1McgxAVwUkVGziEFY7LHXJBsG/KOJ7KfF0xJTM8rhbGQMjwXJtqoQLQsH1+Njtu1inoGn/boLrVsNteTcQ6RoNHOqM3AqareKR5fLxgSVf1snMHUj00eb6iODEpvLKGVQz2nl5c0GWJGoOUp15Jo9XtT9C+nYk2BP+q8lv0i3dYC9zjYb5jEaKKcNZsdkgaDdygcYU30xm7jgdGF5nK6UEb3aDCOQtmfvXeEee8CIk/Jm5qFPEqTmMJrGHT7f8HrDrEGQ47p0nuz/HRyYsZw/LVbrtm7XpAUkP7OUI8in9VebrD8lY0HNRmibWIzZa2qvxHyKQYQUU5ERt2hW2mdrqow+GL0xs5i9fKoQ+86OQ=
  - secure: Q9BaUuV1YvzucppeHqoongQCUwr68ChUmO2U1hFzYwPAk09PUZzuiu5u0Xofi2lx9TiTa2FbNp4CUFs5uxGCtZqBFY3AVYERIximX7ywqXn7DjXft8Q509/iZHZyaaZmfq2bcvQ841stxrCBTt3oqw2c1U/pPPOKLwd1vaJio9/DJMyYzp5lBKTBFOuBS0nCTcd8mDlxcSLdwqXpQwJ6GaWEDdk3yXX2GbnbfEmQlud8qFRe4VbBw28PgY32j/eZlyCGBmSe5ySSA4+PYXqziCl7waWW0yGbXtVM2cW7d1kH2gV81n35WOeLRp3YWTOytXd7cu774eYr7JscLOmD7OtW1NwuGU49Vh8gZeSCp08a64XJgT2k79LRnlCVqhhqZbuOKHh77ajcBxRJXIUU6TZAeF2xBy58FPh3aTjrGj1GEue0kVFyuXtUGYWqmqpC56QsrZkQFWcIG3rnphZz0APU9IiMIBs+buBXoysreHFUNjKKFRSdwSEELCW0rCbU4XR3aVmc9wAOMQsSoC93krnMEspetfj0qC6f9+yQhEt/vfvq1t7BwAI0zEqLf0nO4PxYNbsE7+dgGIPcxrWK82NpTeIO9Ysrf3GSVikoUSXhWky6XOAPwINEPyRgQW4+FeYQN0V7AjR3VUtJJmtJZ9eF8zPfDnErZr6LdhudJlU=
  - secure: cX3khlx1c9pFhuJmqYtEKDn2AHKZdgUy3yGidOA0Nwp4ntTe/+Xy78dnZqzCnSlRFI/7cp4yzeiB5VrVHCdr5PrZLQnBCOCLUkot9UbY18caLZOBH7YcNkN5H8r6odCGX16lIiGtoNRPj+z0ugls5T/nmRzLlfoI5nf/oAnNXwGhOtxkJbZ1w8Ig0CODouOow0aYNJY0PejAx8pja9BavS2boSomOD23nNvEeW9Rsg1KmDEfib2m2gjwubgxnD28bHT4XeTzK/3eeDAMa7i8yVYxSx5PpULf1iaqWj32GRgfRgcWUTO8RSbLaiNoPW0APh9FZ04dp2zR0OSvchOlPGQSD+jMBkPHJlS3fLPMoCvDQ8bENjUn2ump9rzQAEnT/kUmRE5pMN5WemsOjAxpur3i+TinhpSiZeDhLvFv/UaMQziT7I8gFU4mtt5wHF+dDAZGokgyHyaONR0HU5p+GgVrqs0kJZAvFAutUJFRP5Dykn2Lpss7SC6nFvFTnayJ5pCrDGkeuuwg1drsLVOCgsSWDh5vgHXDA6UBcYzYKDqf7GP4p6XSiX9ReykJ3E6yf0NzaXetxAmlnVZG2FvOSt/eAuRie33DZmShS4uUXaVG+SwOY45P3Q5Eg/4zmMWLKdFZ5KANvfVF0+SLaZUhsttBq4tH7oIJsZHyqWKkfEI=
after_success:
- docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
- if [[ $TRAVIS_BRANCH == "master" ]]; then export REPO=ricardomiranda/akka_typed_ping_pong
  export TAG=latest docker build -f Dockerfile -t $REPO:$COMMIT . docker tag $REPO:$COMMIT
  $REPO:$TAG docker tag $REPO:$COMMIT $REPO:travis-$TRAVIS_BUILD_NUMBER docker push
  $REPO fi
