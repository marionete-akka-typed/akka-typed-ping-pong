language: scala
scala:
- 2.12.6
script:
- sbt compile coverage test coverageReport codacyCoverage assembly
services:
  - docker
env:
  global:
  - secure: BIXurpR+KTooYWs8Nkc90r5LIlhYnv3D0qIXItkB60DfYi+GavOdsAfywUIMh+hDAzTZCDahqlZCDPxPThY7Fvlgflf47jKUr6sC4fBMmvDdQVNLj+rzMjoPrSlDwaXipwAiK8sk4yyMmIVQlXn4gF7VoengjPP7Z9jRiQ87mH9Nwbnb/mXi7Ccn37AuNUu9phRJ29+RduC+ScXNt/bV2jZD13dRIEXs5RCK0JUmE/+nrV0tZ+RI7SUL3tD1jORKxkm49u+1FzD0pFyjMEAo5zAYynyLdGxt50nTDw2UYWSVCyDJ5bVXOe9yYk9Ub8+M3FEwYxJOhbjkhVLZ6mwzOdilZeGrA6OWQGGZ3qRScD/kNr53OIb4NlE26kEGOV0eWTLukmNWtKfCVrpd5xdFawZ3LrRkP5chMVUXX+RpaRB6n1A98u6I62HJGrBqDsSk0PkBSQW4tdaqU9UTOicaMpum2Y++pzfk/eaW4MORdhovSTYtMfkRZ8laL6HylfzP+3/HVJqAYrMxggkLmgC1Xha1JBXkGVmHBFtyKR2Szwx5PJ6g76osqQc4gwoIB5fJ39bILrNIx8gWTp/Of+sRYzb1zpGRDeMiZTnYPUQie4J/y8pcCvK8+rB85oHixjLDXxxScoWLWnEpXQCwxMeO29h4da0GKfciJAvbxKbrhGY=
  - secure: wn/Ll5O7Tvscpwt55G77Rj3rZQHl/4q3icLpMpqiP9qsrk0ZokCBufdzDkeSaDGNM3lnno2FiXVjt3rODNoDtOZqmE3nYjiv+P+YMqtgH3CIbvjE9LZCcCVYei2P93RpWZfGaSECd4PME5OPyGhXtLjEN574IrM7IiCBqr9Df0dhOWdlDMl7T9ZyQGg12hustslLh8CQ+Gb+OghOl1aPqNiJAzCw+VQ37qoEJN9HrItBWZ/uvV/skBUYCOgz4oRUTh6a5o41Gvb3diBb43ftkgLVeHDdltCh8RdQjpeeNWBCUw9SWWd8vwXacVbyjEP/VEtT+lYObJBzO2Zeej6KFRzXVxclN2KWW5JjI5/IGRQ5rCQR3g67A7UVsVk+r6D9hAY/Y8YSS7Q8w/ytSSL1hEO/ZiLBu6RFv7IfzcsWemVNcZk+LuL4+LMZQ/7JkZRxmMb3WnSntie6xm8mjDY+srnASlubv+ySfWugf8hRdHb7nvwpNyyJbZ4TZhMQmf85LExULm+/W3aualQFXskpv7u2DMyfqO5lytkNuWk6Bc5R+QP8RP+tFUvdbu5dTy8I1SwQelak+H5EEzqhoGqAtvNqs3JCuXOG2sZwotPJ2TqGu/7F0DNGp3z7Dw44DrbsESt1FfQiH5KqzVhsQp/9nzKLCdhDeRVlUGYPvjQfi1k=
  - secure: ZbrVlOXMlABXsROrNVpoKsQAs4cr3in/LWIjvJ+6ILdD3MVXwerp4Qtx6m1nL7+ltzNfGHBKIqmCSZWTM8dXBGzl6PXn0Ap4mMRdAqL+8sB9uu3B1OCHlqQGhhrmnmStW+ZH2L1mVG7/hyvZQpDMZpuhH95t+2enzcKO7b5AOhGfKTDFSoTqlKswkjPXHIjjpeDRVh6i8+UePX6wMK6S2dmxVGT7pPCAPKv2ow5MK8tJEW/TxPLAM0DvKdnAuyMjkq4MVATVL5CRe09qZ7FR+UdR9pWmWfS5HXWPuxc7EuGU/fy6Wjan5K0LSZizYibEp75t2OHykVcoBZUnftMNZZLxNt1ngwsyCHgfT69vwk7g076+tE76QH9dfHxwyD2djud2GoMMAkPgoW1wJZ2cukEHqxJMKEAb0lNabwC7pn9b8FOG/0orTDXoiNMjO/2htuoWCJuVv3KWnJGBhHsc5goytET4huGDarFnJ37am5co0Ey9CMbHQS8tBTIzJE5uK6udsKVPDDPUH0fL3urKp1MaEMdKAdc6PPhGRlX9K+oD8iiyrEGhHNSdibgmo5hhxPN01ydxNSxuD1436rjdbk8rv7Q2Ws0epAF/ZZxEBoLHolJq9T98/HZ3k5iQv23/D98mQ2l6+/4KkYl7dg/Dcov6MMLcAnlYDt1GmYHtzdE=
  - secure: J8TGt4E80oU4UvxqpF5J6vBTmvEyrx47ABXHdDgdWss0ky9arV/y157Rar8icV8pbCSamgpZpVaP3VN1A6t0F04qU1Vq7tBxgtc5kKgM2fkzuZKEPHSw0IPFtekH69GILg1+DeUteczKm7rQNcXGYgWhsVlhN2m94UbfX2X06JkvAFZ9115Xn96mTFXDsR5ZJSsvRB+o1YI5h3a/gm2fZ3S/bh8DXupgJLzfRgZt3yim6I+SPSd4V8yL8mmR7oOyxG9TI3OnrDImDhq4bQhfyWOCHPWg+UnwcfUoBwefmp+3fsKuacd+eFy6dqzLhwc/+8vpycON7+TmtflNolhmyGQobrVX6SSZuvcbHZiynfBfWtf8JPUsGIhhANwKcGJoMpJ8jXZU1RhXxpBWVgNLnnXzbBhv1heaNSAtN2ypRZ2rjUXXtlndZhPLCm3QxL4pyeMXCSlNQC/PbA1A96xtkwkh5mZZxVNiClTHrPCQbdhi58vDBk9NriwpdBjXlyHhzsCRmwjMwciU3BWVqj1HyEChVaM/ZIbyxdaCbsTKZMeQKTHE0qXdw7RUULJlFTu9vG7ZMZ3Hf8ouWBLUwpt+tXb1dR1DvbPanHPAg3g/N4+c6WSEEgAkc5rBdPhnp3XMBK7ddq97o8Reuc9RQIOQkRJgB2FZVkXGznqxenZJ5bQ=
after_success:
  - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
  - if [[ $TRAVIS_BRANCH == "master" ]]; then
    export REPO=ricardomiranda/akka_typed_ping_pong
    export TAG=latest
    docker build -f Dockerfile -t $REPO:$COMMIT .
    docker tag $REPO:$COMMIT $REPO:$TAG
    docker tag $REPO:$COMMIT $REPO:travis-$TRAVIS_BUILD_NUMBER
    docker push $REPO
    fi
